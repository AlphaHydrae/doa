extends layout

block content
  .row
    .col-sm-8.col-xs-12
      #newWatch(ng-controller='WatchFormController')
        form.form-inline.clearfix(ng-submit='create()', role='form')
          .form-group.watchName.col-lg-4.col-lg-offset-2.col-md-8.col-sm-6.col-xs-12
            label.sr-only(for='newWatchName') Name
            input.form-control(ng-model='newWatch.name', type='text', id='newWatchName', placeholder='Add something to watch', required=true)
          .form-group.col-md-2.col-sm-3.col-xs-6
            doa-watch-interval(watch='newWatch')
          .form-group.col-md-2.col-sm-3.col-xs-6
            button.btn.btn-primary(type='submit', ng-disabled='blank') Save
        doa-server-errors.serverErrors(ng-show='serverErrors')
      #watches.panel-group(ng-controller='WatchesController')
        .watch.panel(ng-repeat='watch in watches', ng-controller='WatchController', ng-class='[statusClass]', href='#')
          .panel-heading.clearfix
            div(ng-hide='editing')
              h4.panel-title.pull-left
                a(data-toggle='collapse', href='#watch-{{ watch.id }}') {{ watch.name }}
              .btn-group.btn-group-sm.pull-right
                button.btn.btn-default(ng-click='toggleEditing()')
                  span.glyphicon.glyphicon-pencil
            form.form-inline.clearfix(role='form', ng-submit='update()', ng-hide='!editing')
              .form-group.col-xs-6
                label.sr-only(for='watch-{{ watch.id }}-name') Name
                input.form-control(ng-model='watchUpdate.name', type='text', id='watch-{{ watch.id }}-name', required=true)
              .form-group.col-xs-3
                doa-watch-interval(watch='watchUpdate')
              .controls.form-group.col-xs-3
                .btn-group.btn-group-sm.pull-right
                  button.btn.btn-default(type='button', ng-click='toggleEditing()')
                    span.glyphicon.glyphicon-ban-circle
                  button.btn.btn-danger(type='button', ng-click='destroy()')
                    span.glyphicon.glyphicon-trash
                  button.btn.btn-primary(type='submit', ng-disabled='blank')
                    span.glyphicon.glyphicon-ok
          .panel-collapse.collapse(ng-class='[collapseClass]', id='watch-{{ watch.id }}')
            .panel-body
              form.form-inline(role='form')
                .form-group.col-sm-8.col-sm-offset-2.col-xs-12
                  .input-group
                    input.url.form-control(type='text', readonly=true, value='{{ watch.url }}')
                    .input-group-btn
                      a.btn.btn-default(clip-copy='getWatchUrl()', type='button', href='#')
                        span.glyphicon.glyphicon-edit
    .col-sm-4.col-xs-12
      #chart
